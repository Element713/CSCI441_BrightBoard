<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>404 - Lost in Learning</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    body {
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: 2rem auto;
      background: rgba(255, 255, 255, 0.1);
      border: 3px dashed #fff;
      border-radius: 10px;
    }
    #confetti {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
      z-index: 10;
    }
  </style>
</head>
<body>
  <main class="container" style="text-align:center;">
    <h1>404</h1>
    <h2>Youâ€™re lost in the land of learning!</h2>
    <p>But hey, while you're here... catch the falling ðŸ“š!</p>
    <canvas id="gameCanvas" width="500" height="300"></canvas>
    <p><a class="btn" href="index.html">Return to BrightBoard</a></p>
  </main>
  <canvas id="confetti"></canvas>
  <script>
    // Falling emoji game
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let emoji = "ðŸ“š";
    let x = Math.random() * canvas.width;
    let y = -30;
    let caught = 0;

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.font = "2rem serif";
      ctx.fillText(emoji, x, y);
      y += 2;
      if (y > canvas.height) {
        x = Math.random() * canvas.width;
        y = -30;
      }
    }

    canvas.addEventListener("click", function(e) {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;

      if (mouseX > x && mouseX < x + 32 && mouseY > y - 32 && mouseY < y + 32) {
        caught++;
        alert("Nice! Caught: " + caught);
        x = Math.random() * canvas.width;
        y = -30;
      }
    });

    setInterval(draw, 30);

    // Confetti
    const confetti = document.getElementById("confetti");
    const confettiCtx = confetti.getContext("2d");
    confetti.width = window.innerWidth;
    confetti.height = window.innerHeight;

    const pieces = Array.from({ length: 100 }, () => ({
      x: Math.random() * confetti.width,
      y: Math.random() * confetti.height - confetti.height,
      r: Math.random() * 20 + 10,
      d: Math.random() * 20 + 10,
      color: `hsl(${Math.random() * 360}, 100%, 70%)`,
      tilt: Math.random() * 10 - 10,
      tiltAngle: 0
    }));

    function drawConfetti() {
      confettiCtx.clearRect(0, 0, confetti.width, confetti.height);
      pieces.forEach(p => {
        confettiCtx.beginPath();
        confettiCtx.lineWidth = p.r / 2;
        confettiCtx.strokeStyle = p.color;
        confettiCtx.moveTo(p.x + p.tilt + p.r / 4, p.y);
        confettiCtx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r);
        confettiCtx.stroke();
      });
      updateConfetti();
    }

    function updateConfetti() {
      pieces.forEach(p => {
        p.y += Math.cos(p.d) + 1 + p.r / 2;
        p.tiltAngle += 0.1;
        p.tilt = Math.sin(p.tiltAngle - p.d / 3) * 15;
        if (p.y > confetti.height) {
          p.y = -20;
          p.x = Math.random() * confetti.width;
        }
      });
    }

    setInterval(drawConfetti, 30);
  </script>
</body>
</html>